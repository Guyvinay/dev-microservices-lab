########################################
# APPLICATION CONFIGURATION
########################################
spring.application.name=dev-auth-server

# (Optional) Activate a profile if required, e.g. dev, pod
# spring.profiles.active=dev


########################################
# DATABASE CONFIGURATION (PostgreSQL)
########################################
# JDBC connection URL (overridable by env var DATABASE_URL)
spring.datasource.url=${DATABASE_URL:jdbc:postgresql://localhost:5432/dev_auth_server}

# Credentials (safe defaults but always override via secrets in production)
spring.datasource.username=${POSTGRES_USER:postgres}
spring.datasource.password=${POSTGRES_PASSWORD:root}

# PostgreSQL Driver
spring.datasource.driver-class-name=org.postgresql.Driver

# Hibernate settings
#none | update | validate | create-drop (avoid update/create in prod)
spring.jpa.hibernate.ddl-auto=none
#Debugging: prints SQL queries
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect


########################################
# RABBITMQ CONFIGURATION
########################################
# Broker hostname
auth.rabbit.host=${RABBIT_HOST:localhost}

# RabbitMQ Management API Base URL
auth.rabbit.management-base-url=${RABBIT_MANAGEMENT_BASE_URL:http://localhost:15672/api}


########################################
# LOGGING CONFIGURATION
########################################
# Custom console logging mode: JSON | PLAIN | COLORED
logging.custom.format=PLAIN

# Example debug loggers (enable when debugging only)
# logging.level.org.springframework.security=DEBUG
# logging.level.org.springframework.web=DEBUG
# logging.level.org.springframework.security.authentication=DEBUG

# Custom format example (commented for optional use)
# logging.pattern.console=%clr(%d{HH:mm:ss}){blue} - %clr(%5level){cyan} --> %clr(%msg){green} -- %clr(%logger){yellow}%n


########################################
# ELASTICSEARCH CONFIGURATION
########################################
dev.elastic.property.host=localhost
dev.elastic.property.port=9200
dev.elastic.property.scheme=http

# Credentials (override via secrets in prod)
dev.elastic.credentials.username=admin
dev.elastic.credentials.password=admin


########################################
# GRAPHQL / GRAPHIQL CONFIGURATION
########################################
# Enables GraphiQL UI for API exploration
spring.graphql.graphiql.enabled=true


########################################
# ACTUATOR & METRICS CONFIGURATION
########################################
# Expose actuator endpoints
# management.endpoints.web.exposure.include=metrics,prometheus
# management.endpoint.metrics.enabled=true

# Enable Prometheus scraping format
# management.metrics.export.prometheus.enabled=true


########################################
# GRPC CONFIGURATION
########################################
# Local gRPC server port
grpc.server.port=50050

# gRPC client (dev-takeaway microservice)
grpc.client.__dev-takeaway__.address=static://localhost:50051
grpc.client.__dev-takeaway__.negotiationType=PLAINTEXT


########################################
# MULTIPART / FILE UPLOAD CONFIGURATION
########################################
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
